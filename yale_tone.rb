#!/usr/bin/ruby -w

RAW_HIGH_TONES = [
  "a",
  "aai",
  "aak",
  "aam",
  "aan",
  "aang",
  "aap",
  "aat",
  "aau",
  "ai",
  "ak",
  "am",
  "an",
  "ang",
  "ap",
  "at",
  "au",
  "ba",
  "baai",
  "baak",
  "baan",
  "baang",
  "baat",
  "baau",
  "bai",
  "bak",
  "bam",
  "ban",
  "bang",
  "bat",
  "bau",
  "be",
  "bei",
  "bek",
  "beng",
  "bik",
  "bin",
  "bing",
  "bit",
  "biu",
  "bo",
  "bok",
  "bong",
  "bou",
  "bu",
  "bui",
  "buk",
  "bun",
  "bung",
  "but",
  "cha",
  "chaai",
  "chaak",
  "chaam",
  "chaan",
  "chaang",
  "chaap",
  "chaat",
  "chaau",
  "chai",
  "chak",
  "cham",
  "chan",
  "chang",
  "chap",
  "chat",
  "chau",
  "che",
  "chek",
  "cheng",
  "cheui",
  "cheuk",
  "cheun",
  "cheung",
  "cheut",
  "chi",
  "chik",
  "chim",
  "chin",
  "ching",
  "chip",
  "chit",
  "chiu",
  "cho",
  "choi",
  "chok",
  "chong",
  "chou",
  "chuk",
  "chun",
  "chung",
  "chyu",
  "chyun",
  "chyut",
  "da",
  "daai",
  "daak",
  "daam",
  "daan",
  "daang",
  "daap",
  "daat",
  "daau",
  "dai",
  "dak",
  "dam",
  "dan",
  "dang",
  "dap",
  "dat",
  "dau",
  "de",
  "dei",
  "dek",
  "deng",
  "deu",
  "deui",
  "deuk",
  "deun",
  "deung",
  "deut",
  "di",
  "dik",
  "dim",
  "din",
  "ding",
  "dip",
  "dit",
  "diu",
  "do",
  "doi",
  "dok",
  "dong",
  "dou",
  "duk",
  "dung",
  "dyun",
  "dyut",
  "e",
  "ei",
  "eu",
  "fa",
  "faai",
  "faak",
  "faan",
  "faat",
  "faau",
  "fai",
  "fan",
  "fang",
  "fat",
  "fau",
  "fe",
  "fei",
  "fing",
  "fiu",
  "fo",
  "fok",
  "fong",
  "fu",
  "fui",
  "fuk",
  "fun",
  "fung",
  "fut",
  "ga",
  "gaai",
  "gaak",
  "gaam",
  "gaan",
  "gaang",
  "gaap",
  "gaat",
  "gaau",
  "gai",
  "gak",
  "gam",
  "gan",
  "gang",
  "gap",
  "gat",
  "gau",
  "ge",
  "gei",
  "geng",
  "geu",
  "geui",
  "geuk",
  "geung",
  "gik",
  "gim",
  "gin",
  "ging",
  "gip",
  "git",
  "giu",
  "go",
  "goi",
  "gok",
  "gon",
  "gong",
  "got",
  "gou",
  "gu",
  "gui",
  "guk",
  "gun",
  "gung",
  "gut",
  "gwa",
  "gwaai",
  "gwaak",
  "gwaan",
  "gwaang",
  "gwaat",
  "gwai",
  "gwan",
  "gwang",
  "gwat",
  "gwik",
  "gwing",
  "gwo",
  "gwok",
  "gwong",
  "gyun",
  "gyut",
  "ha",
  "haai",
  "haak",
  "haam",
  "haan",
  "haang",
  "haap",
  "haat",
  "haau",
  "hai",
  "hak",
  "ham",
  "han",
  "hang",
  "hap",
  "hat",
  "hau",
  "he",
  "hei",
  "hek",
  "heng",
  "heu",
  "heui",
  "heung",
  "him",
  "hin",
  "hing",
  "hip",
  "hit",
  "hiu",
  "hm",
  "hng",
  "ho",
  "hoi",
  "hok",
  "hon",
  "hong",
  "hot",
  "hou",
  "huk",
  "hung",
  "hyun",
  "hyut",
  "ja",
  "jaai",
  "jaak",
  "jaam",
  "jaan",
  "jaang",
  "jaap",
  "jaat",
  "jaau",
  "jai",
  "jak",
  "jam",
  "jan",
  "jang",
  "jap",
  "jat",
  "jau",
  "je",
  "jek",
  "jeng",
  "jeu",
  "jeui",
  "jeuk",
  "jeun",
  "jeung",
  "jeut",
  "ji",
  "jik",
  "jim",
  "jin",
  "jing",
  "jip",
  "jit",
  "jiu",
  "jo",
  "joi",
  "jok",
  "jong",
  "jou",
  "jui",
  "juk",
  "jung",
  "jyu",
  "jyun",
  "jyut",
  "ka",
  "kaai",
  "kaak",
  "kaam",
  "kaan",
  "kaap",
  "kaat",
  "kaau",
  "kai",
  "kak",
  "kam",
  "kan",
  "kang",
  "kap",
  "kat",
  "kau",
  "ke",
  "kei",
  "kek",
  "keu",
  "keui",
  "keuk",
  "keung",
  "kim",
  "kin",
  "king",
  "kip",
  "kit",
  "kiu",
  "ko",
  "koi",
  "kok",
  "kong",
  "ku",
  "kui",
  "kuk",
  "kung",
  "kut",
  "kwa",
  "kwaai",
  "kwaan",
  "kwaang",
  "kwai",
  "kwan",
  "kwik",
  "kwok",
  "kwong",
  "kwui",
  "kwun",
  "kyun",
  "kyut",
  "la",
  "laai",
  "laak",
  "laam",
  "laan",
  "laang",
  "laap",
  "laat",
  "laau",
  "lai",
  "lak",
  "lam",
  "lan",
  "lang",
  "lap",
  "lat",
  "lau",
  "le",
  "lei",
  "lek",
  "leng",
  "leui",
  "leuk",
  "leun",
  "leung",
  "leut",
  "li",
  "lik",
  "lim",
  "lin",
  "ling",
  "lip",
  "lit",
  "liu",
  "lo",
  "loi",
  "lok",
  "long",
  "lou",
  "luk",
  "lung",
  "lyun",
  "lyut",
  "m",
  "ma",
  "maai",
  "maak",
  "maan",
  "maang",
  "maat",
  "maau",
  "mai",
  "mak",
  "man",
  "mang",
  "mat",
  "mau",
  "me",
  "mei",
  "meng",
  "mi",
  "mik",
  "min",
  "ming",
  "mit",
  "miu",
  "mo",
  "moi",
  "mok",
  "mong",
  "mou",
  "mui",
  "muk",
  "mun",
  "mung",
  "mut",
  "na",
  "naai",
  "naam",
  "naan",
  "naang",
  "naap",
  "naat",
  "naau",
  "nai",
  "nam",
  "nan",
  "nang",
  "nap",
  "nat",
  "nau",
  "ne",
  "nei",
  "neui",
  "neung",
  "neut",
  "ng",
  "nga",
  "ngaai",
  "ngaak",
  "ngaam",
  "ngaan",
  "ngaang",
  "ngaap",
  "ngaat",
  "ngaau",
  "ngai",
  "ngak",
  "ngam",
  "ngan",
  "ngang",
  "ngap",
  "ngat",
  "ngau",
  "ngit",
  "ngo",
  "ngoi",
  "ngok",
  "ngon",
  "ngong",
  "ngou",
  "nguk",
  "ngung",
  "ni",
  "nik",
  "nim",
  "nin",
  "ning",
  "nip",
  "nit",
  "niu",
  "no",
  "noi",
  "nok",
  "nong",
  "nou",
  "nuk",
  "nung",
  "nyun",
  "o",
  "oi",
  "ok",
  "on",
  "ong",
  "ou",
  "pa",
  "paai",
  "paak",
  "paan",
  "paang",
  "paat",
  "paau",
  "pai",
  "pak",
  "pan",
  "pang",
  "pat",
  "pau",
  "pe",
  "pei",
  "pek",
  "peng",
  "pik",
  "pin",
  "ping",
  "pit",
  "piu",
  "po",
  "pok",
  "pong",
  "pou",
  "pui",
  "puk",
  "pun",
  "pung",
  "put",
  "sa",
  "saai",
  "saak",
  "saam",
  "saan",
  "saang",
  "saap",
  "saat",
  "saau",
  "sai",
  "sak",
  "sam",
  "san",
  "sang",
  "sap",
  "sat",
  "sau",
  "se",
  "sei",
  "sek",
  "seng",
  "seui",
  "seuk",
  "seun",
  "seung",
  "seut",
  "si",
  "sik",
  "sim",
  "sin",
  "sing",
  "sip",
  "sit",
  "siu",
  "so",
  "soi",
  "sok",
  "song",
  "sou",
  "suk",
  "sung",
  "syu",
  "syun",
  "syut",
  "ta",
  "taai",
  "taam",
  "taan",
  "taang",
  "taap",
  "taat",
  "taau",
  "tai",
  "tam",
  "tan",
  "tang",
  "tap",
  "tat",
  "tau",
  "tek",
  "teng",
  "teu",
  "teui",
  "teun",
  "ti",
  "tik",
  "tim",
  "tin",
  "ting",
  "tip",
  "tit",
  "tiu",
  "to",
  "toi",
  "tok",
  "tong",
  "tou",
  "tuk",
  "tung",
  "tyun",
  "tyut",
  "uk",
  "ung",
  "wa",
  "waai",
  "waak",
  "waan",
  "waang",
  "waat",
  "wai",
  "wak",
  "wan",
  "wang",
  "wat",
  "wau",
  "we",
  "wi",
  "wik",
  "wing",
  "wo",
  "wok",
  "wong",
  "wu",
  "wui",
  "wun",
  "wut",
  "ya",
  "yaai",
  "yaak",
  "yaang",
  "yaau",
  "yai",
  "yam",
  "yan",
  "yap",
  "yat",
  "yau",
  "ye",
  "yeng",
  "yeui",
  "yeuk",
  "yeun",
  "yeung",
  "yi",
  "yik",
  "yim",
  "yin",
  "ying",
  "yip",
  "yit",
  "yiu",
  "yo",
  "yu",
  "yuk",
  "yun",
  "yung",
  "yut",
]

RAW_LOW_TONES = [
  "ah",
  "aaih",
  "aahk",
  "aahm",
  "aahn",
  "aahng",
  "aahp",
  "aaht",
  "aauh",
  "aih",
  "ahk",
  "ahm",
  "ahn",
  "ahng",
  "ahp",
  "aht",
  "auh",
  "bah",
  "baaih",
  "baahk",
  "baahn",
  "baahng",
  "baaht",
  "baauh",
  "baih",
  "bahk",
  "bahm",
  "bahn",
  "bahng",
  "baht",
  "bauh",
  "beh",
  "beih",
  "behk",
  "behng",
  "bihk",
  "bihn",
  "bihng",
  "biht",
  "biuh",
  "boh",
  "bohk",
  "bohng",
  "bouh",
  "buh",
  "buih",
  "buhk",
  "buhn",
  "buhng",
  "buht",
  "chah",
  "chaaih",
  "chaahk",
  "chaahm",
  "chaahn",
  "chaahng",
  "chaahp",
  "chaaht",
  "chaauh",
  "chaih",
  "chahk",
  "chahm",
  "chahn",
  "chahng",
  "chahp",
  "chaht",
  "chauh",
  "cheh",
  "chehk",
  "chehng",
  "cheuih",
  "cheuhk",
  "cheuhn",
  "cheuhng",
  "cheuht",
  "chih",
  "chihk",
  "chihm",
  "chihn",
  "chihng",
  "chihp",
  "chiht",
  "chiuh",
  "choh",
  "choih",
  "chohk",
  "chohng",
  "chouh",
  "chuhk",
  "chuhn",
  "chuhng",
  "chyuh",
  "chyuhn",
  "chyuht",
  "dah",
  "daaih",
  "daahk",
  "daahm",
  "daahn",
  "daahng",
  "daahp",
  "daaht",
  "daauh",
  "daih",
  "dahk",
  "dahm",
  "dahn",
  "dahng",
  "dahp",
  "daht",
  "dauh",
  "deh",
  "deih",
  "dehk",
  "dehng",
  "deuh",
  "deuih",
  "deuhk",
  "deuhn",
  "deuhng",
  "deuht",
  "dih",
  "dihk",
  "dihm",
  "dihn",
  "dihng",
  "dihp",
  "diht",
  "diuh",
  "doh",
  "doih",
  "dohk",
  "dohng",
  "douh",
  "duhk",
  "duhng",
  "dyuhn",
  "dyuht",
  "eh",
  "eih",
  "euh",
  "fah",
  "faaih",
  "faahk",
  "faahn",
  "faaht",
  "faauh",
  "faih",
  "fahn",
  "fahng",
  "faht",
  "fauh",
  "feh",
  "feih",
  "fihng",
  "fiuh",
  "foh",
  "fohk",
  "fohng",
  "fuh",
  "fuih",
  "fuhk",
  "fuhn",
  "fuhng",
  "fuht",
  "gah",
  "gaaih",
  "gaahk",
  "gaahm",
  "gaahn",
  "gaahng",
  "gaahp",
  "gaaht",
  "gaauh",
  "gaih",
  "gahk",
  "gahm",
  "gahn",
  "gahng",
  "gahp",
  "gaht",
  "gauh",
  "geh",
  "geih",
  "gehng",
  "geuh",
  "geuih",
  "geuhk",
  "geuhng",
  "gihk",
  "gihm",
  "gihn",
  "gihng",
  "gihp",
  "giht",
  "giuh",
  "goh",
  "goih",
  "gohk",
  "gohn",
  "gohng",
  "goht",
  "gouh",
  "guh",
  "guih",
  "guhk",
  "guhn",
  "guhng",
  "guht",
  "gwah",
  "gwaaih",
  "gwaahk",
  "gwaahn",
  "gwaahng",
  "gwaaht",
  "gwaih",
  "gwahn",
  "gwahng",
  "gwaht",
  "gwihk",
  "gwihng",
  "gwoh",
  "gwohk",
  "gwohng",
  "gyuhn",
  "gyuht",
  "hah",
  "haaih",
  "haahk",
  "haahm",
  "haahn",
  "haahng",
  "haahp",
  "haaht",
  "haauh",
  "haih",
  "hahk",
  "hahm",
  "hahn",
  "hahng",
  "hahp",
  "haht",
  "hauh",
  "heh",
  "heih",
  "hehk",
  "hehng",
  "heuh",
  "heuih",
  "heuhng",
  "hihm",
  "hihn",
  "hihng",
  "hihp",
  "hiht",
  "hiuh",
  "hhm",
  "hhng",
  "hoh",
  "hoih",
  "hohk",
  "hohn",
  "hohng",
  "hoht",
  "houh",
  "huhk",
  "huhng",
  "hyuhn",
  "hyuht",
  "jah",
  "jaaih",
  "jaahk",
  "jaahm",
  "jaahn",
  "jaahng",
  "jaahp",
  "jaaht",
  "jaauh",
  "jaih",
  "jahk",
  "jahm",
  "jahn",
  "jahng",
  "jahp",
  "jaht",
  "jauh",
  "jeh",
  "jehk",
  "jehng",
  "jeuh",
  "jeuih",
  "jeuhk",
  "jeuhn",
  "jeuhng",
  "jeuht",
  "jih",
  "jihk",
  "jihm",
  "jihn",
  "jihng",
  "jihp",
  "jiht",
  "jiuh",
  "joh",
  "joih",
  "johk",
  "johng",
  "jouh",
  "juih",
  "juhk",
  "juhng",
  "jyuh",
  "jyuhn",
  "jyuht",
  "kah",
  "kaaih",
  "kaahk",
  "kaahm",
  "kaahn",
  "kaahp",
  "kaaht",
  "kaauh",
  "kaih",
  "kahk",
  "kahm",
  "kahn",
  "kahng",
  "kahp",
  "kaht",
  "kauh",
  "keh",
  "keih",
  "kehk",
  "keuh",
  "keuih",
  "keuhk",
  "keuhng",
  "kihm",
  "kihn",
  "kihng",
  "kihp",
  "kiht",
  "kiuh",
  "koh",
  "koih",
  "kohk",
  "kohng",
  "kuh",
  "kuih",
  "kuhk",
  "kuhng",
  "kuht",
  "kwah",
  "kwaaih",
  "kwaahn",
  "kwaahng",
  "kwaih",
  "kwahn",
  "kwihk",
  "kwohk",
  "kwohng",
  "kwuih",
  "kwuhn",
  "kyuhn",
  "kyuht",
  "lah",
  "laaih",
  "laahk",
  "laahm",
  "laahn",
  "laahng",
  "laahp",
  "laaht",
  "laauh",
  "laih",
  "lahk",
  "lahm",
  "lahn",
  "lahng",
  "lahp",
  "laht",
  "lauh",
  "leh",
  "leih",
  "lehk",
  "lehng",
  "leuih",
  "leuhk",
  "leuhn",
  "leuhng",
  "leuht",
  "lih",
  "lihk",
  "lihm",
  "lihn",
  "lihng",
  "lihp",
  "liht",
  "liuh",
  "loh",
  "loih",
  "lohk",
  "lohng",
  "louh",
  "luhk",
  "luhng",
  "lyuhn",
  "lyuht",
  "hm",
  "mah",
  "maaih",
  "maahk",
  "maahn",
  "maahng",
  "maaht",
  "maauh",
  "maih",
  "mahk",
  "mahn",
  "mahng",
  "maht",
  "mauh",
  "meh",
  "meih",
  "mehng",
  "mih",
  "mihk",
  "mihn",
  "mihng",
  "miht",
  "miuh",
  "moh",
  "moih",
  "mohk",
  "mohng",
  "mouh",
  "muih",
  "muhk",
  "muhn",
  "muhng",
  "muht",
  "nah",
  "naaih",
  "naahm",
  "naahn",
  "naahng",
  "naahp",
  "naaht",
  "naauh",
  "naih",
  "nahm",
  "nahn",
  "nahng",
  "nahp",
  "naht",
  "nauh",
  "neh",
  "neih",
  "neuih",
  "neuhng",
  "neuht",
  "hng",
  "ngah",
  "ngaaih",
  "ngaahk",
  "ngaahm",
  "ngaahn",
  "ngaahng",
  "ngaahp",
  "ngaaht",
  "ngaauh",
  "ngaih",
  "ngahk",
  "ngahm",
  "ngahn",
  "ngahng",
  "ngahp",
  "ngaht",
  "ngauh",
  "ngiht",
  "ngoh",
  "ngoih",
  "ngohk",
  "ngohn",
  "ngohng",
  "ngouh",
  "nguhk",
  "nguhng",
  "nih",
  "nihk",
  "nihm",
  "nihn",
  "nihng",
  "nihp",
  "niht",
  "niuh",
  "noh",
  "noih",
  "nohk",
  "nohng",
  "nouh",
  "nuhk",
  "nuhng",
  "nyuhn",
  "oh",
  "oih",
  "ohk",
  "ohn",
  "ohng",
  "ouh",
  "pah",
  "paaih",
  "paahk",
  "paahn",
  "paahng",
  "paaht",
  "paauh",
  "paih",
  "pahk",
  "pahn",
  "pahng",
  "paht",
  "pauh",
  "peh",
  "peih",
  "pehk",
  "pehng",
  "pihk",
  "pihn",
  "pihng",
  "piht",
  "piuh",
  "poh",
  "pohk",
  "pohng",
  "pouh",
  "puih",
  "puhk",
  "puhn",
  "puhng",
  "puht",
  "sah",
  "saaih",
  "saahk",
  "saahm",
  "saahn",
  "saahng",
  "saahp",
  "saaht",
  "saauh",
  "saih",
  "sahk",
  "sahm",
  "sahn",
  "sahng",
  "sahp",
  "saht",
  "sauh",
  "seh",
  "seih",
  "sehk",
  "sehng",
  "seuih",
  "seuhk",
  "seuhn",
  "seuhng",
  "seuht",
  "sih",
  "sihk",
  "sihm",
  "sihn",
  "sihng",
  "sihp",
  "siht",
  "siuh",
  "soh",
  "soih",
  "sohk",
  "sohng",
  "souh",
  "suhk",
  "suhng",
  "syuh",
  "syuhn",
  "syuht",
  "tah",
  "taaih",
  "taahm",
  "taahn",
  "taahng",
  "taahp",
  "taaht",
  "taauh",
  "taih",
  "tahm",
  "tahn",
  "tahng",
  "tahp",
  "taht",
  "tauh",
  "tehk",
  "tehng",
  "teuh",
  "teuih",
  "teuhn",
  "tih",
  "tihk",
  "tihm",
  "tihn",
  "tihng",
  "tihp",
  "tiht",
  "tiuh",
  "toh",
  "toih",
  "tohk",
  "tohng",
  "touh",
  "tuhk",
  "tuhng",
  "tyuhn",
  "tyuht",
  "uhk",
  "uhng",
  "wah",
  "waaih",
  "waahk",
  "waahn",
  "waahng",
  "waaht",
  "waih",
  "wahk",
  "wahn",
  "wahng",
  "waht",
  "wauh",
  "weh",
  "wih",
  "wihk",
  "wihng",
  "woh",
  "wohk",
  "wohng",
  "wuh",
  "wuih",
  "wuhn",
  "wuht",
  "yah",
  "yaaih",
  "yaahk",
  "yaahng",
  "yaauh",
  "yaih",
  "yahm",
  "yahn",
  "yahp",
  "yaht",
  "yauh",
  "yeh",
  "yehng",
  "yeuih",
  "yeuhk",
  "yeuhn",
  "yeuhng",
  "yih",
  "yihk",
  "yihm",
  "yihn",
  "yihng",
  "yihp",
  "yiht",
  "yiuh",
  "yoh",
  "yuh",
  "yuhk",
  "yuhn",
  "yuhng",
  "yuht",
]

RISING_MAP = {
  "a" => "á",
  "e" => "é",
  "i" => "í",
  "o" => "ó",
  "u" => "ú"
}

FALLING_MAP = {
  "a" => "à",
  "e" => "è",
  "i" => "ì",
  "o" => "ò",
  "u" => "ù"
}

LEVEL_MAP = {
  "a" => "ā",
  "e" => "ē",
  "i" => "ī",
  "o" => "ō",
  "u" => "ū"
}

C_RISING_MAP = {
  'm' => 'ḿ',
  'hm' => 'hḿ',
  'ng' => 'ńg',
  'hng' => 'hńg',
  'mh' => 'ḿh',
  'hmh' => 'hḿh',
  'ngh' => 'ńgh',
  'hngh' => 'hńgh´',
}

C_FALLING_MAP = {
  'm' => 'm̀',
  'hm' => 'hm̀',
  'ng' => 'ǹg',
  'hng' => 'hǹg',
  'mh' => 'm̀h',
  'hmh' => 'hm̀h',
  'ngh' => 'ǹgh',
  'hngh' => 'hǹgh',
}

C_LEVEL_MAP = {
  'm' => 'm̄',
  'hm' => 'hm̄',
  'ng' => 'n̄g',
  'hng' => 'hn̄g',
  'mh' => 'm̄h',
  'hmh' => 'hm̄h',
  'ngh' => 'n̄gh',
  'hngh' => 'hn̄gh',
}

def add_rising(phoneme) 
  tone_added = false
  final = ''
  phoneme.each_char { |ch|
    if not tone_added and RISING_MAP.has_key?(ch)
      tone_added = true
      final = final + RISING_MAP[ch]
    else
      final = final + ch
    end
  }
  if not tone_added
    final = C_RISING_MAP[phoneme]
  end
  return final
end

def add_level(phoneme) 
  tone_added = false
  final = ''
  phoneme.each_char { |ch|
    if not tone_added and LEVEL_MAP.has_key?(ch)
      tone_added = true
      final = final + LEVEL_MAP[ch]
    else
      final = final + ch
    end
  }
  if not tone_added
    final = C_LEVEL_MAP[phoneme]
  end
  return final
end

def add_falling(phoneme) 
  tone_added = false
  final = ''
  phoneme.each_char { |ch|
    if not tone_added and FALLING_MAP.has_key?(ch)
      tone_added = true
      final = final + FALLING_MAP[ch]
    else
      final = final + ch
    end
  }
  if not tone_added
    final = C_FALLING_MAP[phoneme]
  end
  return final
end

def add_tone_mark(phoneme, tone)
  if tone == 0
    return add_falling(phoneme)
  elsif tone == 1
    return add_level(phoneme)
  elsif tone == 2
    return add_rising(phoneme)
  elsif tone == 3
    return phoneme
  elsif tone == 4
    return add_falling(phoneme)
  elsif tone == 5
    return add_rising(phoneme)
  elsif tone == 6
    return phoneme
  end
  raise "problem"
end

File.open('yale_tone_num_to_mark.mapping', 'w') do |num2mark|
  File.open('yale_tone_mark_to_num.mapping', 'w') do |mark2num|
    (0..RAW_HIGH_TONES.length-1).each do |n|
      raw_high = RAW_HIGH_TONES[n]
      raw_low = RAW_LOW_TONES[n]
      mark2num.puts("'#{add_tone_mark(raw_high, 0)}'=>'#{raw_high}1',")
      (1..3).each do |tone|
        num2mark.puts("'#{raw_high}#{tone}'=>'#{add_tone_mark(raw_high, tone)}',")
        mark2num.puts("'#{add_tone_mark(raw_high, tone)}'=>'#{raw_high}#{tone}',")
      end
      (4..6).each do |tone|
        num2mark.puts("'#{raw_high}#{tone}'=>'#{add_tone_mark(raw_low, tone)}',")
        mark2num.puts("'#{add_tone_mark(raw_low, tone)}'=>'#{raw_high}#{tone}',")
      end
    end
  end
end
